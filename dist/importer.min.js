var importer=function(){"use strict";function t(n){return function(t){return-1!==t.slice(-n.length).indexOf(n)}}function e(t){return t.reduce(function(t,n){var r=n.split("?"),e=null;return u(r[0])&&(e="css"),c(r[0])&&(e="js"),null!==e&&t.push({url:r[0],param:r[1]?r[1]:"",type:e}),t},[])}var u=t("css"),c=t("js");return function(r){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=Object.assign({},{useScriptType:!1},t).useScriptType;return new Promise(function(c,i){var t=e(r).filter(function(t){return"css"===t.type}),n=e(r).filter(function(t){return"js"===t.type}),o=n.length;t.forEach(function(t){var n=0<t.param.trim().length?"?".concat(t.param):"";fetch(t.url+n).then(function(t){return t.ok?t.text():i(t.statusText)}).then(function(t){document.head.appendChild(function(t){var n=document.createElement("style");return n.innerHTML=t,n}(t))}).catch(function(t){i(t)})}),n.map(function(u){return function(){return new Promise(function(t,n){var r=0<u.param.trim().length?"?".concat(u.param):"",e=function(t,n){var r=document.createElement("script");return r.src=t,n&&(r.type="text/javascript"),r.setAttribute("async",""),r.setAttribute("defer",""),r}(u.url+r,a);e.onload=function(){t(),0===--o&&c()},e.onerror=function(){n(),0===o&&i("Error loading script")},document.body.appendChild(e)})}}).reduce(function(t,n){return t.then(n)},Promise.resolve())})}}();
